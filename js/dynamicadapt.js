"use strict";function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){let e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let t=0;t<this.nodes.length;t++){let n=this.nodes[t],i=n.dataset.da.trim(),a=i.split(","),r={};r.element=n,r.parent=n.parentNode,r.destination=document.querySelector(a[0].trim()),r.breakpoint=a[1]?a[1].trim():"767",r.place=a[2]?a[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.оbjects.push(r)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint},this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,function(e,t,n){return Array.prototype.indexOf.call(n,e)===t});for(let l=0;l<this.mediaQueries.length;l++){let s=this.mediaQueries[l],o=String.prototype.split.call(s,","),p=window.matchMedia(o[0]),c=o[1],d=Array.prototype.filter.call(this.оbjects,function(e){return e.breakpoint===c});p.addListener(function(){e.mediaHandler(p,d)}),this.mediaHandler(p,d)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let n=0;n<t.length;n++){let i=t[n];i.index=this.indexInParent(i.parent,i.element),this.moveTo(i.place,i.element,i.destination)}else for(let a=0;a<t.length;a++){let r=t[a];r.element.classList.contains(this.daClassname)&&this.moveBack(r.parent,r.element,r.index)}},DynamicAdapt.prototype.moveTo=function(e,t,n){if(t.classList.add(this.daClassname),"last"===e||e>=n.children.length){n.insertAdjacentElement("beforeend",t);return}if("first"===e){n.insertAdjacentElement("afterbegin",t);return}n.children[e].insertAdjacentElement("beforebegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){let n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},DynamicAdapt.prototype.arraySort=function(e){if("min"===this.type)Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint});else{Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint});return}};const da=new DynamicAdapt("max");da.init();